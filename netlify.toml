[build]
  command = "npm run build"
  publish = "build"
  environment = { NODE_ENV = "production", CI = "false" }

[dev]
  command = "env PORT=3001 npm start"
  targetPort = 3001
  port = 8888

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"

[functions."daily_ingest"]
  schedule = "@daily"

[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/:splat"
  status = 200

 [[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[template.environment]
  REACT_APP_TWITTER_API_KEY = "Your Twitter API Key"
  REACT_APP_TWITTER_API_SECRET = "Your Twitter API Secret"
  REACT_APP_TWITTER_BEARER_TOKEN = "Your Twitter Bearer Token"
  REACT_APP_NEWS_API_KEY = "Your News API Key"
  REACT_APP_OPENAI_API_KEY = "Your OpenAI API Key"

  SUPABASE_URL = "Your Supabase project URL"
  SUPABASE_SERVICE_ROLE_KEY = "Your Supabase service role key"
  OPENAI_API_KEY = "OpenAI API key for server-side batch generation"
