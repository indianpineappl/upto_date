{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport locationService from '../services/locationService';\nconst useLocation = () => {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const requestLocation = () => {\n    setLoading(true);\n    setError(null);\n    locationService.getCurrentLocation().then(locationData => {\n      setLocation(locationData);\n      setLoading(false);\n    }).catch(err => {\n      setError(err.message);\n      setLoading(false);\n    });\n  };\n  useEffect(() => {\n    // Request location on component mount\n    requestLocation();\n\n    // Set up position watcher\n    let watchId;\n    try {\n      watchId = locationService.watchPosition(newLocation => {\n        setLocation(newLocation);\n      });\n    } catch (err) {\n      setError(err.message);\n    }\n\n    // Clean up watcher on unmount\n    return () => {\n      if (watchId) {\n        locationService.clearWatch(watchId);\n      }\n    };\n  }, []);\n  return {\n    location,\n    loading,\n    error,\n    requestLocation\n  };\n};\n_s(useLocation, \"r4ez7CRRguJtYWMcZNPyeVeE92I=\");\nexport default useLocation;","map":{"version":3,"names":["useState","useEffect","locationService","useLocation","_s","location","setLocation","loading","setLoading","error","setError","requestLocation","getCurrentLocation","then","locationData","catch","err","message","watchId","watchPosition","newLocation","clearWatch"],"sources":["/Users/ab/CascadeProjects/Upto date app/src/hooks/useLocation.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport locationService, { LocationService } from '../services/locationService';\nimport { LocationData } from '../types';\n\ninterface UseLocationResult {\n  location: LocationData | null;\n  loading: boolean;\n  error: string | null;\n  requestLocation: () => void;\n}\n\nconst useLocation = (): UseLocationResult => {\n  const [location, setLocation] = useState<LocationData | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  const requestLocation = () => {\n    setLoading(true);\n    setError(null);\n    \n    locationService.getCurrentLocation()\n      .then(locationData => {\n        setLocation(locationData);\n        setLoading(false);\n      })\n      .catch(err => {\n        setError(err.message);\n        setLoading(false);\n      });\n  };\n  \n  useEffect(() => {\n    // Request location on component mount\n    requestLocation();\n    \n    // Set up position watcher\n    let watchId: number;\n    try {\n      watchId = locationService.watchPosition((newLocation) => {\n        setLocation(newLocation);\n      });\n    } catch (err) {\n      setError((err as Error).message);\n    }\n    \n    // Clean up watcher on unmount\n    return () => {\n      if (watchId) {\n        locationService.clearWatch(watchId);\n      }\n    };\n  }, []);\n  \n  return {\n    location,\n    loading,\n    error,\n    requestLocation\n  };\n};\n\nexport default useLocation;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,eAAe,MAA2B,6BAA6B;AAU9E,MAAMC,WAAW,GAAGA,CAAA,KAAyB;EAAAC,EAAA;EAC3C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAsB,IAAI,CAAC;EACnE,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAU,KAAK,CAAC;EACtD,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAgB,IAAI,CAAC;EAEvD,MAAMW,eAAe,GAAGA,CAAA,KAAM;IAC5BH,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEdR,eAAe,CAACU,kBAAkB,CAAC,CAAC,CACjCC,IAAI,CAACC,YAAY,IAAI;MACpBR,WAAW,CAACQ,YAAY,CAAC;MACzBN,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDO,KAAK,CAACC,GAAG,IAAI;MACZN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;MACrBT,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC;EAEDP,SAAS,CAAC,MAAM;IACd;IACAU,eAAe,CAAC,CAAC;;IAEjB;IACA,IAAIO,OAAe;IACnB,IAAI;MACFA,OAAO,GAAGhB,eAAe,CAACiB,aAAa,CAAEC,WAAW,IAAK;QACvDd,WAAW,CAACc,WAAW,CAAC;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOJ,GAAG,EAAE;MACZN,QAAQ,CAAEM,GAAG,CAAWC,OAAO,CAAC;IAClC;;IAEA;IACA,OAAO,MAAM;MACX,IAAIC,OAAO,EAAE;QACXhB,eAAe,CAACmB,UAAU,CAACH,OAAO,CAAC;MACrC;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLb,QAAQ;IACRE,OAAO;IACPE,KAAK;IACLE;EACF,CAAC;AACH,CAAC;AAACP,EAAA,CAhDID,WAAW;AAkDjB,eAAeA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}